[INFO] [2025-04-12T15:55:55.947Z] Starting profile completion page test
[INFO] [2025-04-12T15:55:56.639Z] Logging in to access profile completion
[DEBUG] [2025-04-12T15:56:14.571Z] Console info: %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[DEBUG] [2025-04-12T15:56:14.782Z] Console info: %c[INFO] %c[FRONTEND] color: green color: purple; font-weight: bold Login page rendered {hasReturnTo: false, hasInviteToken: false, inviteTokenLength: undefined, inviteTokenPreview: undefined, hasInviteEmail: false}
[DEBUG] [2025-04-12T15:56:14.784Z] Console info: %c[INFO] %c[FRONTEND] color: green color: purple; font-weight: bold Login page rendered {hasReturnTo: false, hasInviteToken: false, inviteTokenLength: undefined, inviteTokenPreview: undefined, hasInviteEmail: false}
[DEBUG] [2025-04-12T15:56:14.833Z] Console log: %c[Console Filter] %cActive - Filtering unwanted messages color: purple; font-weight: bold color: gray
[DEBUG] [2025-04-12T15:56:16.056Z] Screenshot saved: login_page-1744473375576.png
[DEBUG] [2025-04-12T15:56:16.467Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Submitting login form {email: pedro-eli@hotmail.com}
[DEBUG] [2025-04-12T15:56:21.776Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Login response received {status: 200, requiresEmailVerification: false, requiresTwoFactor: false, hasToken: true, message: undefined}
[DEBUG] [2025-04-12T15:56:21.784Z] Console info: %c[INFO] %c[FRONTEND] color: green color: purple; font-weight: bold Login successful, token saved {email: pedro-eli@hotmail.com}
[DEBUG] [2025-04-12T15:56:21.792Z] Console info: %c[INFO] %c[FRONTEND] color: green color: purple; font-weight: bold User authenticated {userId: cm9eeajvs0002f7g8mmckhyoz, role: SUPER_ADMIN}
[DEBUG] [2025-04-12T15:56:26.576Z] Current URL after login: http://localhost:3000/admin/dashboard
[INFO] [2025-04-12T15:56:26.577Z] Logged in but redirected to dashboard (profile already completed)
[INFO] [2025-04-12T15:56:26.579Z] Not redirected to profile completion. Running direct debug.
[INFO] [2025-04-12T15:56:26.581Z] Debugging profile completion page DOM
[DEBUG] [2025-04-12T15:56:26.584Z] Console info: [RaaS:Info] Generating menu for role: SUPER_ADMIN
[DEBUG] [2025-04-12T15:56:26.585Z] Console debug: [RaaS:Debug] Using cached menu for role: SUPER_ADMIN
[ERROR] [2025-04-12T15:56:28.634Z] Console Error: Failed to load resource: the server responded with a status of 500 (Internal Server Error)
[ERROR] [2025-04-12T15:56:28.637Z] Console Error: Error fetching notifications: Error: Falha ao carregar notificações
    at fetchNotifications (webpack-internal:///(app-pages-browser)/./src/components/global/infobar/index.tsx:73:23)
[DEBUG] [2025-04-12T15:56:28.714Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Dados brutos recebidos da API: {success: true, distributors: Array(0)}
[ERROR] [2025-04-12T15:56:29.335Z] Console Error: %c[ERROR] %c[FRONTEND] color: red; font-weight: bold color: purple; font-weight: bold Erro ao buscar instalações {error: Failed to fetch}
[ERROR] [2025-04-12T15:56:29.337Z] Console Error: %c[ERROR] %c[FRONTEND] color: red; font-weight: bold color: purple; font-weight: bold Erro de conexão ao buscar distribuidoras {error: TypeError: Failed to fetch
    at fetchDistributors (webpack-internal:///(app-pages-browser)/./src/…, retry: 1/3}
[ERROR] [2025-04-12T15:56:29.339Z] Console Error: Erro de conexão ao buscar usuários {error: TypeError: Failed to fetch
    at fetchUsers (webpack-internal:///(app-pages-browser)/./src/store/u…, retry: 1/3}
[ERROR] [2025-04-12T15:56:29.341Z] Console Error: Error fetching notifications: TypeError: Failed to fetch
    at fetchNotifications (webpack-internal:///(app-pages-browser)/./src/components/global/infobar/index.tsx:71:36)
    at InfoBar.useEffect (webpack-internal:///(app-pages-browser)/./src/components/global/infobar/index.tsx:214:13)
    at react-stack-bottom-frame (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:24036:20)
    at runWithFiberInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:1511:30)
    at commitHookEffectListMount (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:10515:29)
    at commitHookPassiveMountEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:10636:11)
    at reconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12605:11)
    at recursivelyTraverseReconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12577:9)
    at reconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12652:11)
    at recursivelyTraverseReconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12577:9)
    at reconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12652:11)
    at recursivelyTraverseReconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12577:9)
    at reconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12598:11)
    at recursivelyTraverseReconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12577:9)
    at reconnectPassiveEffects (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:12652:11)
    at doubleInvokeEffectsOnFiber (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:16027:13)
    at runWithFiberInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:1511:30)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15987:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
    at recursivelyTraverseAndDoubleInvokeEffectsInDEV (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:15994:17)
[DEBUG] [2025-04-12T15:56:30.155Z] Console info: %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[DEBUG] [2025-04-12T15:56:30.325Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:30.326Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:30.334Z] Console log: %c[Console Filter] %cActive - Filtering unwanted messages color: purple; font-weight: bold color: gray
[DEBUG] [2025-04-12T15:56:30.335Z] Console info: %c[INFO] %c[FRONTEND] color: green color: purple; font-weight: bold ProfileCompletePage mounted {userId: undefined, email: undefined, hasUserData: false, hasToken: false}
[DEBUG] [2025-04-12T15:56:30.338Z] Console Warning: %c[WARN] %c[FRONTEND] color: orange; font-weight: bold color: purple; font-weight: bold No user found, redirecting to login 
[DEBUG] [2025-04-12T15:56:30.347Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:30.348Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:30.587Z] Screenshot saved: debug_initial-1744473390385.png
[DEBUG] [2025-04-12T15:56:30.597Z] Page HTML size: 53712 bytes
[DEBUG] [2025-04-12T15:56:30.605Z] DOM analysis: {"forms":0,"inputs":0,"buttons":0,"loadingIndicators":0,"errors":0,"tabs":0}
[DEBUG] [2025-04-12T15:56:31.270Z] Console info: %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[DEBUG] [2025-04-12T15:56:31.388Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:31.389Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:31.400Z] Console log: %c[Console Filter] %cActive - Filtering unwanted messages color: purple; font-weight: bold color: gray
[DEBUG] [2025-04-12T15:56:31.402Z] Console info: %c[INFO] %c[FRONTEND] color: green color: purple; font-weight: bold ProfileCompletePage mounted {userId: undefined, email: undefined, hasUserData: false, hasToken: false}
[DEBUG] [2025-04-12T15:56:31.408Z] Console Warning: %c[WARN] %c[FRONTEND] color: orange; font-weight: bold color: purple; font-weight: bold No user found, redirecting to login 
[DEBUG] [2025-04-12T15:56:31.412Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:31.414Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Showing loading state {isLoading: false, hasUser: false}
[DEBUG] [2025-04-12T15:56:32.084Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold ProfileCompletePage unmounted 
[DEBUG] [2025-04-12T15:56:32.087Z] Console info: [RaaS:Info] Generating menu for role: SUPER_ADMIN
[DEBUG] [2025-04-12T15:56:32.088Z] Console debug: [RaaS:Debug] Using cached menu for role: SUPER_ADMIN
[ERROR] [2025-04-12T15:56:32.412Z] Failed network requests: [{"url":"http://localhost:3000/api/notifications","status":500}]
[ERROR] [2025-04-12T15:56:32.414Z] Console Error: Failed to load resource: the server responded with a status of 500 (Internal Server Error)
[ERROR] [2025-04-12T15:56:32.417Z] Console Error: Error fetching notifications: Error: Falha ao carregar notificações
    at fetchNotifications (webpack-internal:///(app-pages-browser)/./src/components/global/infobar/index.tsx:73:23)
[DEBUG] [2025-04-12T15:56:32.439Z] React debug info: {"reactElementsCount":0,"hasReactRoot":false,"possibleErrors":["RaaS Solar - Energia Limpa e InteligenteRaaS Solar - Energia Limpa e Inteligentedocument.querySelect","((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"d","self.__next_f.push([1,\"23:{\\\"name\\\":\\\"NonIndex\\\",\\\"env\\\":\\\"Server\\\",\\\"key\\\":null,\\\"owner\\\":null,\\\"st"]}
[INFO] [2025-04-12T15:56:32.440Z] Direct debug information: {
  "elementCounts": {
    "forms": 0,
    "inputs": 0,
    "buttons": 0,
    "loadingIndicators": 0,
    "errors": 0,
    "tabs": 0
  },
  "hasConsoleErrors": false,
  "hasNetworkFailures": true,
  "reactInfo": {
    "reactElementsCount": 0,
    "hasReactRoot": false,
    "possibleErrors": [
      "RaaS Solar - Energia Limpa e InteligenteRaaS Solar - Energia Limpa e Inteligentedocument.querySelect",
      "((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"d",
      "self.__next_f.push([1,\"23:{\\\"name\\\":\\\"NonIndex\\\",\\\"env\\\":\\\"Server\\\",\\\"key\\\":null,\\\"owner\\\":null,\\\"st"
    ]
  }
}
[DEBUG] [2025-04-12T15:56:32.466Z] Console Warning: Image with src "/images/raas-logo.svg" was detected as the Largest Contentful Paint (LCP). Please add the "priority" property if this image is above the fold.
Read more: https://nextjs.org/docs/api-reference/next/image#priority
[ERROR] [2025-04-12T15:56:32.635Z] Console Error: Failed to load resource: the server responded with a status of 500 (Internal Server Error)
[ERROR] [2025-04-12T15:56:32.636Z] Console Error: Error fetching notifications: Error: Falha ao carregar notificações
    at fetchNotifications (webpack-internal:///(app-pages-browser)/./src/components/global/infobar/index.tsx:73:23)
[DEBUG] [2025-04-12T15:56:32.645Z] Screenshot saved: test_completion-1744473392442.png
[DEBUG] [2025-04-12T15:56:32.655Z] Console debug: %c[DEBUG] %c[FRONTEND] color: gray color: purple; font-weight: bold Dados brutos recebidos da API: {success: true, distributors: Array(0)}
[INFO] [2025-04-12T15:56:33.568Z] Test completed. Check logs and screenshots for results.
